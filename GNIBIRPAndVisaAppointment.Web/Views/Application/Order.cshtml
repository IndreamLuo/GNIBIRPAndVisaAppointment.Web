<form target="Checkout" method="POST">
    <input type="hidden" name="applicationId" value="@ViewBag.ApplicationId" />
    <div class="jumbotron">
        <h4 class="mb-3">Appointment Services</h4>
        <div class="form-group pl-5">
            <input class="form-check-input" id="appointment" type="checkbox" disabled checked amount="30">
            <label class="form-check-label" for="rebook">€33, a regular appointment</label>
        </div>
        <div class="form-group pl-5">
            <input class="form-check-input" id="cancellation" type="checkbox" checked amount="0">
            <label class="form-check-label" for="cancellation">€0, free cancellation when I booked the wrong date for you</label>
        </div>
        <div class="form-group pl-5">
            <input class="form-check-input" id="rebook" name="rebook" type="checkbox" value="true" amount="20">
            <label class="form-check-label" for="rebook">€20, 1 rebook after cancellation</label>
        </div>
        <div class="alert alert-warning mb-4">
            If I picked the date you selected but you still want to cancel it and get another one.
        </div>
        <div class="form-group pl-5">
            <input class="form-check-input" id="noCancelRebook" name="noCancelRebook" type="checkbox" value="true" amount="20">
            <label class="form-check-label" for="noCancelRebook">€33, rebook without cancellation</label>
        </div>
        <div class="alert alert-warning mb-4">
            Use this when you already have an appointment which you don't like and you still want to make another one without cancelling the current one.
            <br />
            <strong>Please do cancel others which you don't need at last if you have more than 1 appointment. There're other people needing them so much!</strong>
        </div>
        <div class="form-group pl-5">
            <input class="form-check-input" id="emergency" name="emergency" type="checkbox" value="true" amount="20">
            <label class="form-check-label" for="emergency">€40, emergency</label>
        </div>
        <div class="alert alert-warning">
            You'll be put on top of the list.<br />
            <strong>You don't need this if you're not that urgent.</strong>
        </div>
        <hr />
        <p>Total Amount: <span class="text-success amount"></span></p>
        <input class="btn btn-success" type="submit" value="Checkout" />
    </div>
</form>

@section scripts {
    <script type="text/javascript">
        var recalculateAmount = function () {
            var amount = 0;
            $('input').each(function () {
                if ($(this).prop('checked')) {
                    amount += parseFloat($(this).attr('amount'));
                }
            });
            $('.amount').html('€' + amount);
        }

        $('input').change(recalculateAmount);
        recalculateAmount();
    </script>
}